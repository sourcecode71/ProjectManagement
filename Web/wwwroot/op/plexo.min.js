function formatAmountNoDecimals(n){for(var t=/(\d+)(\d{3})/;t.test(n);)n=n.replace(t,"$1,$2");return n}function formatAmount(n){return n=n.replace(/[^0-9]/g,""),n=n.length==0?"0.00":n.length==1?"0.0"+n:n.length==2?"0."+n:n.substring(0,n.length-2)+"."+n.substring(n.length-2,n.length),n=new Number(n),n=n.toFixed(2),n=n.replace(/\./g,"."),x=n.split(","),x1=x[0],x2=x.length>1?","+x[1]:"",formatAmountNoDecimals(x1)+x2}function SubmitClient(){if(ValidationClient()){var n=window.location.origin,t=n+"/api/Company/save-client",i={name:$("#clientName").val(),address:$("#clientAddress").val()};$.ajax({url:t,type:"post",data:JSON.stringify(i),contentType:"application/json; charset=utf-8"}).then(function(n){console.log("  data ",n);Swal.fire({position:"top-end",icon:"success",title:"Record has been added successfully!",showConfirmButton:!1,timer:1500});ClearAllClient();LoadAllClient()},function(n,t,i){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+i.errorMessage,icon:"error",confirmButtonText:"Ok"})}).catch(function(n){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+n,icon:"error",confirmButtonText:"Ok"})})}}function SubmitCompany(){var t=window.location.origin,i=t+"/api/Company/save-company",n;ValidationCompany()&&(n={clientId:$("#companyCLient").children("option:selected").val(),name:$("#companyName").val(),address:$("#companyAddress").val()},$.ajax({url:i,type:"post",data:JSON.stringify(n),contentType:"application/json; charset=utf-8"}).then(function(){Swal.fire({position:"top-end",icon:"success",title:"Record has been added successfully!",showConfirmButton:!1,timer:1500});ClearCompany();LoadAllCompany()},function(n,t,i){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+i.errorMessage,icon:"error",confirmButtonText:"Ok"})}).catch(function(n){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+n,icon:"error",confirmButtonText:"Ok"})}))}var SiteV1={};SiteV1.Userlogin=function(){var n=$("#loginEmail").val(),t=$("#loginPassword").val(),i={Email:n,Password:t};$.ajax({url:"/api/Employee/login",headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",data:JSON.stringify(i),success:function(n){n.isSuccess?window.location.href=n.result.role=="Admin"?"/Admin/Index":"/Employee/Index":$("#loginValidationMessage").css("display","block")},error:function(){$("#loginValidationMessage").css("display","block")}})};$(function(){$("#projectPaid").keyup(function(){$(this).val("$ "+formatAmount($(this).val()))});$("#addProjectBudget").keyup(function(){$(this).val("$ "+formatAmount($(this).val()))});$("#approvedBudget").keyup(function(){$(this).val("$ "+formatAmount($(this).val()))});$(".moneyFormat").keyup(function(){$(this).val("$ "+formatAmount($(this).val()))})});var LoadAllClient=()=>{var n=window.location.origin,t=n+"/api/company/all-clients";$.ajax({url:t,type:"get",contentType:"application/json; charset=utf-8"}).then(function(n){var t,i;loadedClientData=n;$("#tbClient").empty();t="";n.forEach(function(n,i){t+="<tr> <th scope='row'>"+(parseInt(i)+1)+"<\/th>  <td class='pc-30 tb-text-left clientName' > "+n.name+"<\/td>  <td class='pc-30 tb-text-left clientAddress'>"+n.address+"<\/td> <\/tr>"});$("#tbClient").append(t);i=$("#companyCLient");i.append($("<option />").val(0).text(" Select Client "));$.each(loadedClientData,function(){i.append($("<option />").val(this.id).text(this.name))})},function(n,t,i){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+i.errorMessage,icon:"error",confirmButtonText:"Ok"})}).catch(function(n){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+n,icon:"error",confirmButtonText:"Ok"})})},LoadAllCompany=()=>{var n=window.location.origin,t=n+"/api/company/all-companies";$.ajax({url:t,type:"get",contentType:"application/json; charset=utf-8"}).then(function(n){loadedClientData=n;$("#tbCompany").empty();var t="";n.forEach(function(n,i){t+="<tr> <th scope='row'>"+(parseInt(i)+1)+"<\/th> <td class='tb-text-left clientName' > "+n.clientName+"<\/td>  <td class='tb-text-left clientName' > "+n.name+"<\/td>  <td class='tb-text-left clientAddress'>"+n.address+"<\/td> <\/tr>"});$("#tbCompany").append(t)},function(n,t,i){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+i.errorMessage,icon:"error",confirmButtonText:"Ok"})}).catch(function(n){Swal.fire({position:"top-end",title:"Error!",text:"Something went wrong."+n,icon:"error",confirmButtonText:"Ok"})})},ValidationClient=()=>{var n=!0;return $("#clientName").val()==""||$("#clientName").length==0?($("#clientNameError").addClass("show").removeClass("hide"),$("#clientNameError").text(" Please enter the client name. "),n=!1):n&&($("#clientNameError").addClass("hide").removeClass("show"),$("#clientNameError").text(" ")),n},ValidationCompany=()=>{var n=!0;return $("#companyCLient").children("option:selected").val()==0?($("#companyCLientError").addClass("show").removeClass("hide"),$("#companyCLientError").text(" Please select the client name. "),n=!1):n&&($("#clientNameError").addClass("hide").removeClass("show"),$("#clientNameError").text(" ")),$("#companyName").val()==""||$("#companyName").length==0?($("#companyNameError").addClass("show").removeClass("hide"),$("#companyNameError").text(" Please enter the company name. "),n=!1):n&&($("#companyNameError").addClass("hide").removeClass("show"),$("#companyNameError").text(" ")),n},ClearAllClient=()=>{$("#clientName").val(""),$("#clientAddress").val(""),$("#clientNameError").addClass("hide").removeClass("show"),$("#clientNameError").text(" ")},ClearCompany=()=>{$("#companyCLient").select(0).attr("selected","selected"),$("#companyCLientError").addClass("hide").removeClass("show"),$("#companyCLientError").text(" "),$("#companyName").val(""),$("#companyAddress").val(""),$("#companyNameError").addClass("hide").removeClass("show"),$("#companyNameError").text(" ")},Company=function(){"use strict";return{initCompany:function(){this.CompanyInitialize()},CompanyInitialize:function(){LoadAllClient();ClearAllClient();LoadAllCompany();ClearCompany()}}}();